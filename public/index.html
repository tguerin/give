<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Give</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>

    <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>

    <link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
    <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="bower_components/paper-tabs/paper-tabs.html">
    <link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
    <link rel="import" href="bower_components/core-ajax/core-ajax.html">

    <link rel="import" href="add-item-form.html">
    <link rel="import" href="login/login-form.html">

    <link rel="stylesheet" href="style/app.css">
</head>
<body unresolved fullbleed>
<template id="template" is="auto-binding">
    <div layout horizontal center-center fit>
        <core-animated-pages valueattr="hash" selected="{{route}}">
            <section relative layout vertical center hash="login" class="container">
                <login-form></login-form>
            </section>

            <section relative layout vertical center hash="add-item" class="container">
                <add-item-form url="items" urlImage="images"></add-item-form>
            </section>
        </core-animated-pages>
    </div>
    <core-ajax auto id="ajaxAuthenticated" method="GET" url="/auth/authenticated"
               on-core-response="{{handleAjaxAuthenticatedResponse}}" on-core-error="{{handleAjaxAuthenticatedError}}"/>
</template>
<script>
    var template = document.querySelector('#template');
    template.handleAjaxAuthenticatedResponse = function (response) {
        template.route = 'add-item';
    };
    template.handleAjaxAuthenticatedError = function (response) {
        template.route = 'login';
    };
</script>
</body>
</html>